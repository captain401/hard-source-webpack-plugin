'use strict';

var HardSourceWebpackPlugin = require('../../..');
var webpackVersion = require('webpack/package.json').version;

var WebpackIsomorphicToolsPlugin = require('webpack-isomorphic-tools/plugin');
var webpackIsomorphicToolsPlugin = new WebpackIsomorphicToolsPlugin(require('./webpack-isomorphic-tools'));

var moduleOptions;

if (Number(webpackVersion.split('.')[0]) > 1) {
  moduleOptions = {
    rules: [{
      test: /\.css$/,
      loader: 'style-loader!css-loader'
    }, {
      test: /\.png$/,
      loader: 'file-loader'
    }]
  };
} else {
  moduleOptions = {
    loaders: [{
      test: /\.css$/,
      loader: 'style-loader!css-loader'
    }, {
      test: /\.png$/,
      loader: 'file-loader'
    }]
  };
}

module.exports = {
  context: __dirname,
  entry: './index.js',
  output: {
    path: __dirname + '/tmp',
    filename: 'main.js'
  },
  module: moduleOptions,
  plugins: [webpackIsomorphicToolsPlugin.development(), new HardSourceWebpackPlugin({
    cacheDirectory: 'cache',
    environmentHash: {
      root: __dirname + '/../../..'
    }
  })]
};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhhcmQtc291cmNlLXdlYnBhY2stcGx1Z2luL3Rlc3RzL2ZpeHR1cmVzL3BsdWdpbi1pc29tb3JwaGljLXRvb2xzL3dlYnBhY2suY29uZmlnLmpzIl0sIm5hbWVzIjpbIkhhcmRTb3VyY2VXZWJwYWNrUGx1Z2luIiwicmVxdWlyZSIsIndlYnBhY2tWZXJzaW9uIiwidmVyc2lvbiIsIldlYnBhY2tJc29tb3JwaGljVG9vbHNQbHVnaW4iLCJ3ZWJwYWNrSXNvbW9ycGhpY1Rvb2xzUGx1Z2luIiwibW9kdWxlT3B0aW9ucyIsIk51bWJlciIsInNwbGl0IiwicnVsZXMiLCJ0ZXN0IiwibG9hZGVyIiwibG9hZGVycyIsIm1vZHVsZSIsImV4cG9ydHMiLCJjb250ZXh0IiwiX19kaXJuYW1lIiwiZW50cnkiLCJvdXRwdXQiLCJwYXRoIiwiZmlsZW5hbWUiLCJwbHVnaW5zIiwiZGV2ZWxvcG1lbnQiLCJjYWNoZURpcmVjdG9yeSIsImVudmlyb25tZW50SGFzaCIsInJvb3QiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsMEJBQTBCQyxtQkFBOUI7QUFDQSxJQUFJQyxpQkFBaUJELFFBQVEsc0JBQVIsRUFBZ0NFLE9BQXJEOztBQUVBLElBQUlDLCtCQUErQkgsUUFBUSxpQ0FBUixDQUFuQztBQUNBLElBQUlJLCtCQUErQixJQUFJRCw0QkFBSixDQUFpQ0gscUNBQWpDLENBQW5DOztBQUVBLElBQUlLLGFBQUo7O0FBRUEsSUFBSUMsT0FBT0wsZUFBZU0sS0FBZixDQUFxQixHQUFyQixFQUEwQixDQUExQixDQUFQLElBQXVDLENBQTNDLEVBQThDO0FBQzVDRixrQkFBZ0I7QUFDZEcsV0FBTyxDQUNMO0FBQ0VDLFlBQU0sUUFEUjtBQUVFQyxjQUFRO0FBRlYsS0FESyxFQUtMO0FBQ0VELFlBQU0sUUFEUjtBQUVFQyxjQUFRO0FBRlYsS0FMSztBQURPLEdBQWhCO0FBWUQsQ0FiRCxNQWNLO0FBQ0hMLGtCQUFnQjtBQUNkTSxhQUFTLENBQ1A7QUFDRUYsWUFBTSxRQURSO0FBRUVDLGNBQVE7QUFGVixLQURPLEVBS1A7QUFDRUQsWUFBTSxRQURSO0FBRUVDLGNBQVE7QUFGVixLQUxPO0FBREssR0FBaEI7QUFZRDs7QUFFREUsT0FBT0MsT0FBUCxHQUFpQjtBQUNmQyxXQUFTQyxTQURNO0FBRWZDLFNBQU8sWUFGUTtBQUdmQyxVQUFRO0FBQ05DLFVBQU1ILFlBQVksTUFEWjtBQUVOSSxjQUFVO0FBRkosR0FITztBQU9mUCxVQUFRUCxhQVBPO0FBUWZlLFdBQVMsQ0FDUGhCLDZCQUE2QmlCLFdBQTdCLEVBRE8sRUFFUCxJQUFJdEIsdUJBQUosQ0FBNEI7QUFDMUJ1QixvQkFBZ0IsT0FEVTtBQUUxQkMscUJBQWlCO0FBQ2ZDLFlBQU1ULFlBQVk7QUFESDtBQUZTLEdBQTVCLENBRk87QUFSTSxDQUFqQiIsImZpbGUiOiJoYXJkLXNvdXJjZS13ZWJwYWNrLXBsdWdpbi90ZXN0cy9maXh0dXJlcy9wbHVnaW4taXNvbW9ycGhpYy10b29scy93ZWJwYWNrLmNvbmZpZy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBIYXJkU291cmNlV2VicGFja1BsdWdpbiA9IHJlcXVpcmUoJy4uLy4uLy4uJyk7XG52YXIgd2VicGFja1ZlcnNpb24gPSByZXF1aXJlKCd3ZWJwYWNrL3BhY2thZ2UuanNvbicpLnZlcnNpb247XG5cbnZhciBXZWJwYWNrSXNvbW9ycGhpY1Rvb2xzUGx1Z2luID0gcmVxdWlyZSgnd2VicGFjay1pc29tb3JwaGljLXRvb2xzL3BsdWdpbicpO1xudmFyIHdlYnBhY2tJc29tb3JwaGljVG9vbHNQbHVnaW4gPSBuZXcgV2VicGFja0lzb21vcnBoaWNUb29sc1BsdWdpbihyZXF1aXJlKCcuL3dlYnBhY2staXNvbW9ycGhpYy10b29scycpKTtcblxudmFyIG1vZHVsZU9wdGlvbnM7XG5cbmlmIChOdW1iZXIod2VicGFja1ZlcnNpb24uc3BsaXQoJy4nKVswXSkgPiAxKSB7XG4gIG1vZHVsZU9wdGlvbnMgPSB7XG4gICAgcnVsZXM6IFtcbiAgICAgIHtcbiAgICAgICAgdGVzdDogL1xcLmNzcyQvLFxuICAgICAgICBsb2FkZXI6ICdzdHlsZS1sb2FkZXIhY3NzLWxvYWRlcicsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXN0OiAvXFwucG5nJC8sXG4gICAgICAgIGxvYWRlcjogJ2ZpbGUtbG9hZGVyJyxcbiAgICAgIH0sXG4gICAgXSxcbiAgfTtcbn1cbmVsc2Uge1xuICBtb2R1bGVPcHRpb25zID0ge1xuICAgIGxvYWRlcnM6IFtcbiAgICAgIHtcbiAgICAgICAgdGVzdDogL1xcLmNzcyQvLFxuICAgICAgICBsb2FkZXI6ICdzdHlsZS1sb2FkZXIhY3NzLWxvYWRlcicsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXN0OiAvXFwucG5nJC8sXG4gICAgICAgIGxvYWRlcjogJ2ZpbGUtbG9hZGVyJyxcbiAgICAgIH0sXG4gICAgXSxcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNvbnRleHQ6IF9fZGlybmFtZSxcbiAgZW50cnk6ICcuL2luZGV4LmpzJyxcbiAgb3V0cHV0OiB7XG4gICAgcGF0aDogX19kaXJuYW1lICsgJy90bXAnLFxuICAgIGZpbGVuYW1lOiAnbWFpbi5qcycsXG4gIH0sXG4gIG1vZHVsZTogbW9kdWxlT3B0aW9ucyxcbiAgcGx1Z2luczogW1xuICAgIHdlYnBhY2tJc29tb3JwaGljVG9vbHNQbHVnaW4uZGV2ZWxvcG1lbnQoKSxcbiAgICBuZXcgSGFyZFNvdXJjZVdlYnBhY2tQbHVnaW4oe1xuICAgICAgY2FjaGVEaXJlY3Rvcnk6ICdjYWNoZScsXG4gICAgICBlbnZpcm9ubWVudEhhc2g6IHtcbiAgICAgICAgcm9vdDogX19kaXJuYW1lICsgJy8uLi8uLi8uLicsXG4gICAgICB9LFxuICAgIH0pLFxuICBdLFxufTtcbiJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3R5bGVyYXJidXMvZGV2L3Byb3ZpZGVyL3NyYyJ9
